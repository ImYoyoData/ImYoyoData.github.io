<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API文档 | Yoyo of docs</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="文档是开发坚强的后盾！">
    
    <link rel="preload" href="/assets/css/0.styles.27274be1.css" as="style"><link rel="preload" href="/assets/js/app.73c61b21.js" as="script"><link rel="preload" href="/assets/js/2.8b246f39.js" as="script"><link rel="preload" href="/assets/js/9.7f49ff95.js" as="script"><link rel="prefetch" href="/assets/js/10.2b6e6290.js"><link rel="prefetch" href="/assets/js/11.57e8ae8b.js"><link rel="prefetch" href="/assets/js/12.88a6a44e.js"><link rel="prefetch" href="/assets/js/3.87a58ff7.js"><link rel="prefetch" href="/assets/js/4.82c17e27.js"><link rel="prefetch" href="/assets/js/5.6e596a02.js"><link rel="prefetch" href="/assets/js/6.e4a413c8.js"><link rel="prefetch" href="/assets/js/7.183f1676.js"><link rel="prefetch" href="/assets/js/8.21ed39b3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.27274be1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="Yoyo of docs" class="logo"> <span class="site-name can-hide">Yoyo of docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/ImYoyoData" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Yoyo的github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://docs.litebds.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LL官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/ImYoyoData" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Yoyo的github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://docs.litebds.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LL官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Home</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Home/" aria-current="page" class="sidebar-link">文档说明</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Yoyo Robot</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Home/YoyoRobot/" aria-current="page" class="sidebar-link">YoyoRobot 机器人插件</a></li><li><a href="/Home/YoyoRobot/api.html" aria-current="page" class="active sidebar-link">API文档</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Home/YoyoRobot/api.html#客户端调用" class="sidebar-link">客户端调用</a></li><li class="sidebar-sub-header"><a href="/Home/YoyoRobot/api.html#系统类api" class="sidebar-link">系统类API</a></li><li class="sidebar-sub-header"><a href="/Home/YoyoRobot/api.html#成员变量" class="sidebar-link">成员变量</a></li><li class="sidebar-sub-header"><a href="/Home/YoyoRobot/api.html#应用类api" class="sidebar-link">应用类API</a></li><li class="sidebar-sub-header"><a href="/Home/YoyoRobot/api.html#群文件系统" class="sidebar-link">群文件系统</a></li><li class="sidebar-sub-header"><a href="/Home/YoyoRobot/api.html#segment和cqcode" class="sidebar-link">segment和cqcode</a></li></ul></li><li><a href="/Home/YoyoRobot/event.html" class="sidebar-link">事件文档</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Minecraft BE</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api文档"><a href="#api文档" class="header-anchor">#</a> API文档</h1> <ul><li><a href="#%E7%B3%BB%E7%BB%9F%E7%B1%BBAPI">系统类API</a></li> <li><a href="#%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F">成员变量</a></li> <li><a href="#%E5%BA%94%E7%94%A8%E7%B1%BBAPI">应用类API</a> <ul><li><a href="#%E8%8E%B7%E5%8F%96%E7%BE%A4%E7%BE%A4%E5%91%98%E5%88%97%E8%A1%A8%E5%92%8C%E8%B5%84%E6%96%99">获取列表和资料</a></li> <li><a href="#%E5%8F%91%E6%B6%88%E6%81%AF%E7%9B%B8%E5%85%B3">发消息相关</a></li> <li><a href="#%E7%B3%BB%E7%BB%9F%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86">系统消息处理</a></li> <li><a href="#%E7%BE%A4%E6%93%8D%E4%BD%9C">群操作</a></li> <li><a href="#%E4%B8%AA%E4%BA%BA%E7%9B%B8%E5%85%B3">个人相关</a></li> <li><a href="#%E5%85%B6%E4%BB%96">其他</a></li></ul></li> <li><a href="#%E7%BE%A4%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F">群文件系统</a></li> <li><a href="#segment%E5%92%8Ccqcode">segment和cqcode</a> 支持的消息元素类型</li></ul> <h2 id="客户端调用"><a href="#客户端调用" class="header-anchor">#</a> 客户端调用</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>yoyo<span class="token punctuation">.</span>client<span class="token punctuation">.</span>方法
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <h2 id="系统类api"><a href="#系统类api" class="header-anchor">#</a> 系统类API</h2> <table><thead><tr><th>Name</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>登录</td> <td>login(password?)</td> <td>传密码则使用密码登录，不传则扫码登录</td></tr> <tr><td>登出</td> <td>logout()</td> <td></td></tr> <tr><td>提交滑动验证码</td> <td>sliderLogin(str)</td> <td>收到滑块后使用</td></tr> <tr><td>发送短信验证码</td> <td>sendSMSCode()</td> <td>收到设备锁后使用</td></tr> <tr><td>提交短信验证码</td> <td>submitSMSCode(str)</td> <td></td></tr> <tr><td>在线判断</td> <td>isOnline()</td> <td></td></tr></tbody></table> <hr> <h2 id="成员变量"><a href="#成员变量" class="header-anchor">#</a> 成员变量</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code>client<span class="token punctuation">.</span>uin<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">//登录账号</span>
client<span class="token punctuation">.</span>nickname<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">//昵称</span>
client<span class="token punctuation">.</span>sex<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">//性别</span>
client<span class="token punctuation">.</span>age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">//年龄</span>
client<span class="token punctuation">.</span>online_status<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">//在线状态</span>
client<span class="token punctuation">.</span>fl<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> FriendInfo<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//好友列表</span>
client<span class="token punctuation">.</span>gl<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> GroupInfo<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//群列表</span>
client<span class="token punctuation">.</span>sl<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> StrangerInfo<span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//陌生人和临时会话列表</span>
client<span class="token punctuation">.</span>gml<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> Map<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> MemberInfo<span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span> <span class="token comment">//群员列表缓存</span>
client<span class="token punctuation">.</span>blacklist<span class="token operator">:</span> Set<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//黑名单</span>
client<span class="token punctuation">.</span>logger<span class="token operator">:</span> log4js<span class="token punctuation">.</span>Logger<span class="token punctuation">;</span> <span class="token comment">//日志管理器</span>
client<span class="token punctuation">.</span>dir<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">//数据保存文件夹路径</span>
client<span class="token punctuation">.</span>config<span class="token operator">:</span> ConfBot<span class="token punctuation">;</span> <span class="token comment">//配置项</span>
client<span class="token punctuation">.</span>stat<span class="token operator">:</span> Statistics<span class="token punctuation">;</span> <span class="token comment">//统计信息</span>
client<span class="token punctuation">.</span>bkn<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">//csrf token</span>
client<span class="token punctuation">.</span>cookies<span class="token punctuation">;</span> <span class="token comment">//cookies</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><hr> <h2 id="应用类api"><a href="#应用类api" class="header-anchor">#</a> 应用类API</h2> <p>所有应用类API具有统一的返回值：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">retcode</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//0成功 1异步 100参数错误 102失败 103超时 104客户端未上线</span>
    <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span> <span class="token comment">//ok或async或failed</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//返回的数据</span>
    <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//failed时提供</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>调用 <code>Promise</code> api 时无需使用<code>catch()</code>，需要判断是否成功请使用<code>retcode</code>或<code>status</code><br>
大部分API没有<code>data</code>返回值<br>
API调用失败时你会得到一个<code>error</code>(包含<code>code</code>和<code>message</code>)</p></blockquote> <hr> <h3 id="获取群、群员列表和资料"><a href="#获取群、群员列表和资料" class="header-anchor">#</a> 获取群、群员列表和资料</h3> <table><thead><tr><th>Name</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>获取群资料</td> <td>getGroupInfo(gid, no_cache?)</td> <td>该方法一般只用于强制刷新，请尽量从缓存中获取<br><code>client.gl.get(gid)</code></td></tr> <tr><td>获取群员列表</td> <td>getGroupMemberList(gid, no_cache?)</td> <td>缓存于<code>client.gml</code>中</td></tr> <tr><td>获取群员资料</td> <td>getGroupMemberInfo(gid, uid, no_cache?)</td> <td>缓存于<code>client.gml</code>中</td></tr> <tr><td>获取陌生人资料</td> <td>getStrangerInfo(uid, no_cache?)</td> <td></td></tr></tbody></table> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>
<span class="token comment">/** 陌生人资料 */</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">StrangerInfo</span> <span class="token punctuation">{</span>
    readonly user_id<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//账号</span>
    readonly nickname<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">//昵称</span>
    readonly sex<span class="token operator">:</span> Gender<span class="token punctuation">,</span> <span class="token comment">//性别</span>
    readonly age<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//年龄</span>
    readonly area<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">//地区</span>
    readonly signature<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">//个性签名</span>
    readonly description<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">//个人说明</span>
    readonly group_id<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//临时会话群号</span>
<span class="token punctuation">}</span>
<span class="token comment">/** 好友资料 */</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">FriendInfo</span> <span class="token keyword">extends</span> <span class="token class-name">StrangerInfo</span> <span class="token punctuation">{</span>
    readonly remark<span class="token operator">?</span><span class="token operator">:</span> string <span class="token comment">//好友备注</span>
<span class="token punctuation">}</span>
<span class="token comment">/** 群资料 */</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">GroupInfo</span> <span class="token punctuation">{</span>
    readonly group_id<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//群号</span>
    readonly group_name<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">//群名</span>
    readonly member_count<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//群员数</span>
    readonly max_member_count<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//最大群员数</span>
    readonly owner_id<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//群主账号</span>
    readonly last_join_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//最后入群时间</span>
    readonly last_sent_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//最后发言时间</span>
    readonly shutup_time_whole<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//全员禁言到期时间</span>
    readonly shutup_time_me<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//我的禁言到期时间</span>
    readonly create_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//创建时间</span>
    readonly grade<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//群等级</span>
    readonly max_admin_count<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//最大管理员数</span>
    readonly active_member_count<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//活跃群员数</span>
    readonly update_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//当前群资料的最后更新时间</span>
<span class="token punctuation">}</span>
<span class="token comment">/** 群员基础资料 */</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">MemberBaseInfo</span> <span class="token punctuation">{</span>
    readonly user_id<span class="token operator">:</span> number<span class="token punctuation">,</span>
    readonly nickname<span class="token operator">:</span> string<span class="token punctuation">,</span>
    readonly card<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">//群名片</span>
    readonly sex<span class="token operator">:</span> Gender<span class="token punctuation">,</span>
    readonly age<span class="token operator">:</span> number<span class="token punctuation">,</span>
    readonly area<span class="token operator">:</span> string<span class="token punctuation">,</span>
    readonly level<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//等级</span>
    readonly role<span class="token operator">:</span> GroupRole<span class="token punctuation">,</span> <span class="token comment">//权限</span>
    readonly title<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">//头衔</span>
<span class="token punctuation">}</span>
<span class="token comment">/** 群员资料 */</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">MemberInfo</span> <span class="token keyword">extends</span> <span class="token class-name">MemberBaseInfo</span> <span class="token punctuation">{</span>
    readonly group_id<span class="token operator">:</span> number<span class="token punctuation">,</span>
    <span class="token comment">// readonly user_id: number,</span>
    <span class="token comment">// readonly nickname: string,</span>
    <span class="token comment">// readonly card: string,</span>
    <span class="token comment">// readonly sex: Gender,</span>
    <span class="token comment">// readonly age: number,</span>
    <span class="token comment">// readonly area: string,</span>
    readonly join_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//入群时间</span>
    readonly last_sent_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//最后发言时间</span>
    <span class="token comment">// readonly level: number,</span>
    readonly rank<span class="token operator">:</span> string<span class="token punctuation">,</span>
    <span class="token comment">// readonly role: GroupRole,</span>
    <span class="token comment">/** @deprecated */</span>
    readonly unfriendly<span class="token operator">:</span> boolean<span class="token punctuation">,</span>
    <span class="token comment">// readonly title: string,</span>
    readonly title_expire_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//头衔过期时间</span>
    <span class="token comment">/** @deprecated */</span>
    readonly card_changeable<span class="token operator">:</span> boolean<span class="token punctuation">,</span>
    readonly shutup_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//禁言到期时间</span>
    readonly update_time<span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token comment">//此群员资料的最后更新时间</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div><hr> <h3 id="发消息相关"><a href="#发消息相关" class="header-anchor">#</a> 发消息相关</h3> <table><thead><tr><th>Name</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>发送私聊</td> <td>sendPrivateMsg(uid, msg)</td> <td>返回message_id</td></tr> <tr><td>发送群聊</td> <td>sendGroupMsg(gid, msg)</td> <td>返回message_id</td></tr> <tr><td>发送讨论组</td> <td>sendDiscussMsg(did, msg)</td> <td></td></tr> <tr><td>发送群临时会话</td> <td>sendTempMsg(gid, uid, msg)</td> <td>返回message_id</td></tr> <tr><td>(注意)上方4种信息发送 前面加_</td> <td>_sendPrivateMsg()</td> <td>就可以自动 添加空的catch屏蔽错误</td></tr> <tr><td>撤回消息</td> <td>deleteMsg(message_id)</td> <td></td></tr> <tr><td>上报消息已读</td> <td>reportReaded(message_id)</td> <td></td></tr> <tr><td>获取1条历史消息</td> <td>getMsg(message_id)</td> <td></td></tr> <tr><td>获取最多20条历史消息</td> <td>getChatHistory(message_id)</td> <td></td></tr> <tr><td>获取转发的消息</td> <td>getForwardMsg(resid)</td> <td>resid在转发的xml中寻找</td></tr> <tr><td>制作一条合并转发消息</td> <td>makeForwardMsg(fakes)</td> <td>得到一个xml元素，可直接发送</td></tr></tbody></table> <blockquote><p>msg可以使用 <code>Array</code> 格式或 <code>string</code> 格式，支持CQ码</p></blockquote> <hr> <h3 id="系统消息处理"><a href="#系统消息处理" class="header-anchor">#</a> 系统消息处理</h3> <table><thead><tr><th>Name</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>处理加好友请求</td> <td>setFriendAddRequest(flag, approve?)</td> <td>flag在事件中获得</td></tr> <tr><td>处理群请求</td> <td>setGroupAddRequest(flag, approve?)</td> <td>flag在事件中获得</td></tr> <tr><td>获取未处理的请求</td> <td>getSystemMsg()</td> <td></td></tr></tbody></table> <hr> <h3 id="群操作"><a href="#群操作" class="header-anchor">#</a> 群操作</h3> <table><thead><tr><th>Name</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>踢人</td> <td>setGroupKick(gid, uid)</td> <td></td></tr> <tr><td>禁言</td> <td>setGroupBan(gid, uid, duration?)</td> <td>duration默认1800(秒)</td></tr> <tr><td>退群</td> <td>setGroupLeave(gid)</td> <td></td></tr> <tr><td>设置群名片</td> <td>setGroupCard(gid, uid, card?)</td> <td></td></tr> <tr><td>设置群名</td> <td>setGroupName(gid, name)</td> <td></td></tr> <tr><td>设置管理员</td> <td>setGroupAdmin(gid, uid, enable?)</td> <td></td></tr> <tr><td>设置头衔</td> <td>setGroupSpecialTitle(gid, uid, title?)</td> <td></td></tr> <tr><td>发简易群公告</td> <td>sendGroupNotice(gid, content)</td> <td></td></tr> <tr><td>拍一拍</td> <td>sendGroupPoke(gid, uid)</td> <td></td></tr> <tr><td>禁止/允许匿名</td> <td>setGroupAnonymous(gid, enable?)</td> <td></td></tr> <tr><td>全员禁言</td> <td>setGroupWholeBan(gid, enable?)</td> <td></td></tr> <tr><td>禁言匿名玩家</td> <td>setGroupAnonymousBan(gid, flag, duration)</td> <td>匿名flag在消息事件中</td></tr> <tr><td>设置群头像</td> <td>setGroupPortrait(file)</td> <td>与图片消息中的file同格式</td></tr></tbody></table> <hr> <h3 id="个人相关"><a href="#个人相关" class="header-anchor">#</a> 个人相关</h3> <table><thead><tr><th>Name</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>设置在线状态</td> <td>setOnlineStatus(num)</td> <td>11我在线上 31离开 41隐身 50忙碌 60Q我吧 70请勿打扰<br>aPad和安卓手表无法设置</td></tr> <tr><td>修改昵称</td> <td>setNickname(str)</td> <td></td></tr> <tr><td>修改性别</td> <td>setGender(num)</td> <td>0未知 1男 2女</td></tr> <tr><td>修改生日</td> <td>setBirthday(str)</td> <td>20110202的形式</td></tr> <tr><td>修改签名</td> <td>setSignature(str)</td> <td></td></tr> <tr><td>修改个人说明</td> <td>setDescription(str)</td> <td></td></tr> <tr><td>修改头像</td> <td>setPortrait(file)</td> <td>与图片消息中的file同格式</td></tr> <tr><td>添加好友</td> <td>addFriend(gid, uid)</td> <td>仅支持添加群友</td></tr> <tr><td>删除好友</td> <td>deleteFriend(uid)</td> <td></td></tr> <tr><td>邀请好友入群</td> <td>inviteFriend(gid, uid)</td> <td></td></tr> <tr><td>点赞好友</td> <td>sendLike(uid, times?)</td> <td>times默认为1</td></tr></tbody></table> <hr> <h3 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h3> <table><thead><tr><th>Name</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>获取漫游表情</td> <td>getRoamingStamp()</td> <td></td></tr> <tr><td>清除缓存文件</td> <td>cleanCache()</td> <td></td></tr> <tr><td>重载好友列表</td> <td>reloadFriendList()</td> <td>重载完成之前不响应任何请求和事件</td></tr> <tr><td>重载群列表</td> <td>reloadGroupList()</td> <td>重载完成之前不响应任何请求和事件</td></tr> <tr><td>用于扩展协议</td> <td>sendUni()</td> <td>发送原始uni数据包</td></tr> <tr><td>用于扩展协议</td> <td>sendOidb()</td> <td>发送原始oidb数据包</td></tr> <tr><td>用于扩展协议</td> <td>em()</td> <td>触发一个oicq标准事件</td></tr></tbody></table> <hr> <h2 id="群文件系统"><a href="#群文件系统" class="header-anchor">#</a> 群文件系统</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> gfs <span class="token operator">=</span> yoyo<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">acquireGfs</span><span class="token punctuation">(</span><span class="token number">363457102</span><span class="token punctuation">)</span> <span class="token comment">//传群号进入一个群文件系统</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><table><thead><tr><th>Name</th> <th>API</th> <th>Description</th></tr></thead> <tbody><tr><td>查看使用空间</td> <td>gfs.df()</td> <td></td></tr> <tr><td>列出文件和目录</td> <td>gfs.ls(fid?, start?, limit?)</td> <td>gfs.dir()的别名</td></tr> <tr><td>查看文件属性</td> <td>gfs.stat(fid)</td> <td></td></tr> <tr><td>创建目录</td> <td>gfs.mkdir(name)</td> <td></td></tr> <tr><td>删除文件或目录</td> <td>gfs.rm(fid)</td> <td>会删除目录下的全部文件</td></tr> <tr><td>重命名文件或目录</td> <td>gfs.rename(fid, name)</td> <td></td></tr> <tr><td>移动文件</td> <td>gfs.mv(fid, pid)</td> <td></td></tr> <tr><td>获取下载链接</td> <td>gfs.download(fid)</td> <td></td></tr> <tr><td>上传文件</td> <td>gfs.upload(file, pid?, name?, cb?)</td> <td>cb是上传进度回调函数</td></tr></tbody></table> <blockquote><p>fid表示一个文件或目录，pid表示它的父目录<br>
根目录为&quot;/&quot;<br>
只能在根目录下创建目录<br>
调用时需要使用<code>catch()</code>捕获<code>reject</code><br>
大文件上传时开启debug可以打印上传进度</p></blockquote> <hr> <h2 id="segment和cqcode"><a href="#segment和cqcode" class="header-anchor">#</a> segment和cqcode</h2> <blockquote><p>用于快速创建可以发送的消息元素</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>yoyo<span class="token punctuation">.</span>segment   yoyo<span class="token punctuation">.</span>cqcode
<span class="token comment">//segment用于创建对象格式的消息，cqcode用于创建字符串格式的消息</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><table><thead><tr><th>Name</th> <th>API(segment)</th> <th>API(cqcode)</th> <th>Description</th></tr></thead> <tbody><tr><td>文本</td> <td>segment.text()</td> <td>cqcode.text()</td> <td></td></tr> <tr><td>at</td> <td>segment.at(qq)</td> <td>cqcode.at()</td> <td>艾特成员</td></tr> <tr><td>atall</td> <td>segment.atall()</td> <td>Null</td> <td>艾特全体</td></tr> <tr><td>经典表情</td> <td>segment.face()</td> <td>cqcode.face()</td> <td>id为0~324</td></tr> <tr><td>图片</td> <td>segment.image()</td> <td>cqcode.image()</td> <td></td></tr> <tr><td>闪照</td> <td>segment.flash()</td> <td>cqcode.flash()</td> <td></td></tr> <tr><td>语音</td> <td>segment.record()</td> <td>cqcode.record()</td> <td></td></tr> <tr><td>视频</td> <td>segment.video()</td> <td>cqcode.video()</td> <td>仅支持本地文件</td></tr> <tr><td>小表情</td> <td>segment.sface()</td> <td>cqcode.sface()</td> <td>几乎不再使用</td></tr> <tr><td>原创表情</td> <td>segment.bface()</td> <td>cqcode.bface()</td> <td></td></tr> <tr><td>魔法猜拳</td> <td>segment.rps()</td> <td>cqcode.rps()</td> <td>id为1~3</td></tr> <tr><td>魔法骰子</td> <td>segment.dice()</td> <td>cqcode.dice()</td> <td>id为1~6</td></tr> <tr><td>位置分享</td> <td>segment.location()</td> <td>cqcode.location()</td> <td></td></tr> <tr><td>音乐分享</td> <td>segment.music()</td> <td>cqcode.music()</td> <td></td></tr> <tr><td>链接分享</td> <td>segment.share()</td> <td>cqcode.share()</td> <td></td></tr> <tr><td>JSON消息</td> <td>segment.json()</td> <td>cqcode.json()</td> <td></td></tr> <tr><td>XML消息</td> <td>segment.xml()</td> <td>cqcode.xml()</td> <td></td></tr> <tr><td>窗口抖动</td> <td>segment.shake()</td> <td>cqcode.shake()</td> <td></td></tr> <tr><td>戳一戳</td> <td>segment.poke()</td> <td>cqcode.poke()</td> <td></td></tr> <tr><td>回复</td> <td>segment.reply()</td> <td>cqcode.reply()</td> <td></td></tr> <tr><td>匿名</td> <td>segment.anonymous()</td> <td>cqcode.anonymous()</td> <td></td></tr> <tr><td>转发节点</td> <td>segment.node()</td> <td>cqcode.node()</td> <td></td></tr> <tr><td>MIRAI</td> <td>segment.mirai()</td> <td>cqcode.mirai()</td> <td>一种特殊消息</td></tr></tbody></table> <hr></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Home/YoyoRobot/" class="prev router-link-active">
        YoyoRobot 机器人插件
      </a></span> <span class="next"><a href="/Home/YoyoRobot/event.html">
        事件文档
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.73c61b21.js" defer></script><script src="/assets/js/2.8b246f39.js" defer></script><script src="/assets/js/9.7f49ff95.js" defer></script>
  </body>
</html>
